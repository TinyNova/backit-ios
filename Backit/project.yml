name: Backit
options:
  minimumXcodeGenVersion: 2.6.0
targets:
  Backit:
    platform: iOS
    type: application
    sources:
      - path: main.swift
      - path: Info.plist
      - path: Application
        excludes:
          - "Analytics/MixpanelAnalyticsListener.swift"
      - path: Domain
      - path: Service
      - path: UI
    dependencies:
      - sdk: CoreTelephony.framework
      - sdk: SystemConfiguration.framework
      - sdk: libc++.tbd
      - sdk: libz.tbd
      - sdk: LocalAuthentication.framework
      - sdk: SafariServices.framework
      - sdk: SystemConfiguration.framework
      - framework: SDK/NewRelicAgent/NewRelicAgent.framework
      - framework: SDK/google_signin_sdk_4_4_0/GoogleSignIn.bundle
      - framework: SDK/google_signin_sdk_4_4_0/GoogleSignIn.framework
      - framework: SDK/google_signin_sdk_4_4_0/GoogleSignInDependencies.framework
      - carthage: Alamofire
      - carthage: BrightFutures
      - carthage: FacebookCore
      - carthage: FacebookLogin
      - carthage: FBSDKCoreKit
      - carthage: FBSDKLoginKit
      - carthage: FMDB
      - carthage: Hero
      - carthage: KeychainAccess
      - carthage: SDWebImage
      - carthage: Swinject
      - carthage: SwinjectStoryboard
      - target: BKFoundation
    settings:
      base:
        PRODUCT_BUNDLE_IDENTIFIER: com.backit.ios.backer
        SWIFT_OBJC_BRIDGING_HEADER: Backit-Bridging-Header.h
        OTHER_LDFLAGS: "-ObjC"
    configs:
        Debug:
          CODE_SIGN_IDENTITY: "iPhone Developer"
    scheme:
      environmentVariables:
        ENABLE_SIGNPOST: YES
      testTargets:
        - BackitTests
  BackitTests:
    platform: iOS
    type: bundle.unit-test
    sources:
      - BackitTests/
    dependencies:
      - target: Backit
    scheme:
      gatherCoverageData: true
  BKFoundation:
    platform: iOS
    type: framework
    sources:
      - Foundation/
    dependencies:
      - carthage: BrightFutures
